<% ratings = [] %>
<% rating_sum = 0 %>
<% maker.reviews.each_with_index do |review, index| %>
  <% ratings << review.product_range_rating %>
  <% rating_sum += review.product_range_rating %>
<% end %>
<% product_range_rating = rating_sum.fdiv(ratings.count) %>
<% product_range_rating.floor.times do %>
  <i class="fa-solid fa-star star-icon"></i>
<% end %>
<% post_digit = product_range_rating - product_range_rating.floor %>
<% post_digit.round(0).times do %>
  <i class="fa-solid fa-star-half-stroke star-icon"></i>
<% end %>
<% reverse_rating = 5 - product_range_rating %>
<% empty_stars = reverse_rating.round(0) - post_digit.round(0) %>
<% empty_stars.times do %>
  <i class="fa-regular fa-star star-icon"></i>
<% end %>
